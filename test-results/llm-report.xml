<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="14" skipped="0" tests="73" time="1.868" timestamp="2025-11-20T22:57:27.680886+05:30" hostname="rahul-G3-3590"><testcase classname="tests.vector.test_batch_size_limits" name="test_batch_limits_upsert_respects_max_batch_size" time="0.035" /><testcase classname="tests.vector.test_batch_size_limits" name="test_batch_limits_batch_size_exceeded_includes_suggestion" time="0.024" /><testcase classname="tests.vector.test_batch_size_limits" name="test_batch_limits_partial_failure_reporting_shape" time="0.022" /><testcase classname="tests.vector.test_batch_size_limits" name="test_batch_limits_batch_operations_atomic_per_vector" time="0.022" /><testcase classname="tests.vector.test_capabilities_shape" name="test_capabilities_capabilities_returns_correct_type" time="0.012" /><testcase classname="tests.vector.test_capabilities_shape" name="test_capabilities_identity_fields" time="0.012" /><testcase classname="tests.vector.test_capabilities_shape" name="test_capabilities_supported_metrics" time="0.012" /><testcase classname="tests.vector.test_capabilities_shape" name="test_capabilities_resource_limits_positive" time="0.012" /><testcase classname="tests.vector.test_capabilities_shape" name="test_capabilities_feature_flags_boolean" time="0.012" /><testcase classname="tests.vector.test_capabilities_shape" name="test_capabilities_idempotent_calls" time="0.022" /><testcase classname="tests.vector.test_capabilities_shape" name="test_capabilities_all_required_fields_present" time="0.012" /><testcase classname="tests.vector.test_context_siem" name="test_observability_context_propagates_to_metrics_siem_safe" time="0.023"><failure message="corpus_sdk.vector.vector_base.DimensionMismatch: query vector dimension 1 does not match namespace 2">tests/vector/test_context_siem.py:78: in test_observability_context_propagates_to_metrics_siem_safe
    await adapter.query(QuerySpec(vector=[0.1], top_k=1, namespace="default"), ctx=ctx)
corpus_sdk/vector/vector_base.py:1761: in query
    result = await self._with_gates_unary(
corpus_sdk/vector/vector_base.py:1532: in _with_gates_unary
    result = await self._apply_deadline(call(), ctx)
corpus_sdk/vector/vector_base.py:1356: in _apply_deadline
    return await self._deadline.wrap(awaitable, ctx)
corpus_sdk/vector/vector_base.py:612: in wrap
    return await awaitable
corpus_sdk/vector/vector_base.py:1688: in _call
    result = await self._do_query(spec, ctx=ctx)
tests/mock/mock_vector_adapter.py:261: in _do_query
    raise DimensionMismatch(
E   corpus_sdk.vector.vector_base.DimensionMismatch: query vector dimension 1 does not match namespace 2</failure></testcase><testcase classname="tests.vector.test_context_siem" name="test_observability_tenant_hashed_never_raw" time="0.022"><failure message="corpus_sdk.vector.vector_base.DimensionMismatch: query vector dimension 1 does not match namespace 2">tests/vector/test_context_siem.py:95: in test_observability_tenant_hashed_never_raw
    await adapter.query(QuerySpec(vector=[0.1], top_k=1, namespace="default"), ctx=ctx)
corpus_sdk/vector/vector_base.py:1761: in query
    result = await self._with_gates_unary(
corpus_sdk/vector/vector_base.py:1532: in _with_gates_unary
    result = await self._apply_deadline(call(), ctx)
corpus_sdk/vector/vector_base.py:1356: in _apply_deadline
    return await self._deadline.wrap(awaitable, ctx)
corpus_sdk/vector/vector_base.py:612: in wrap
    return await awaitable
corpus_sdk/vector/vector_base.py:1688: in _call
    result = await self._do_query(spec, ctx=ctx)
tests/mock/mock_vector_adapter.py:261: in _do_query
    raise DimensionMismatch(
E   corpus_sdk.vector.vector_base.DimensionMismatch: query vector dimension 1 does not match namespace 2</failure></testcase><testcase classname="tests.vector.test_context_siem" name="test_observability_no_vector_data_in_metrics" time="0.034" /><testcase classname="tests.vector.test_context_siem" name="test_observability_metrics_emitted_on_error_path" time="0.005"><failure message="AssertionError: No metrics emitted for error path&#10;assert []">tests/vector/test_context_siem.py:142: in test_observability_metrics_emitted_on_error_path
    assert error_observations, "No metrics emitted for error path"
E   AssertionError: No metrics emitted for error path
E   assert []</failure></testcase><testcase classname="tests.vector.test_context_siem" name="test_observability_query_metrics_include_namespace" time="0.012"><failure message="corpus_sdk.vector.vector_base.BadRequest: unknown namespace 'test-namespace'">tests/vector/test_context_siem.py:152: in test_observability_query_metrics_include_namespace
    await adapter.query(QuerySpec(vector=[0.2], top_k=1, namespace="test-namespace"), ctx=ctx)
corpus_sdk/vector/vector_base.py:1761: in query
    result = await self._with_gates_unary(
corpus_sdk/vector/vector_base.py:1532: in _with_gates_unary
    result = await self._apply_deadline(call(), ctx)
corpus_sdk/vector/vector_base.py:1356: in _apply_deadline
    return await self._deadline.wrap(awaitable, ctx)
corpus_sdk/vector/vector_base.py:612: in wrap
    return await awaitable
corpus_sdk/vector/vector_base.py:1688: in _call
    result = await self._do_query(spec, ctx=ctx)
tests/mock/mock_vector_adapter.py:237: in _do_query
    raise BadRequest(f"unknown namespace '{spec.namespace}'")
E   corpus_sdk.vector.vector_base.BadRequest: unknown namespace 'test-namespace'</failure></testcase><testcase classname="tests.vector.test_context_siem" name="test_observability_upsert_metrics_include_vector_count" time="0.029"><failure message="assert 0 &gt;= 1">tests/vector/test_context_siem.py:184: in test_observability_upsert_metrics_include_vector_count
    assert vector_counters[-1]["value"] &gt;= 1
E   assert 0 &gt;= 1</failure></testcase><testcase classname="tests.vector.test_deadline_enforcement" name="test_deadline_deadline_budget_nonnegative" time="0.004" /><testcase classname="tests.vector.test_deadline_enforcement" name="test_deadline_deadline_exceeded_on_expired_budget" time="0.005" /><testcase classname="tests.vector.test_deadline_enforcement" name="test_deadline_preflight_deadline_check_on_upsert" time="0.004" /><testcase classname="tests.vector.test_deadline_enforcement" name="test_deadline_query_respects_deadline_mid_operation" time="0.013" /><testcase classname="tests.vector.test_delete_operations" name="test_delete_delete_by_ids_returns_counts" time="0.050" /><testcase classname="tests.vector.test_delete_operations" name="test_delete_delete_by_filter_returns_counts" time="0.024" /><testcase classname="tests.vector.test_delete_operations" name="test_delete_requires_ids_or_filter" time="0.002" /><testcase classname="tests.vector.test_delete_operations" name="test_delete_idempotent_for_missing_ids" time="0.049" /><testcase classname="tests.vector.test_delete_operations" name="test_delete_delete_result_structure" time="0.029" /><testcase classname="tests.vector.test_dimension_validation" name="test_dimension_validation_dimension_mismatch_on_upsert" time="0.025" /><testcase classname="tests.vector.test_dimension_validation" name="test_dimension_validation_dimension_mismatch_on_query" time="0.024" /><testcase classname="tests.vector.test_dimension_validation" name="test_dimension_validation_dimension_mismatch_error_attributes" time="0.024" /><testcase classname="tests.vector.test_dimension_validation" name="test_dimension_validation_dimension_mismatch_non_retryable" time="0.024" /><testcase classname="tests.vector.test_error_mapping_retryable" name="test_error_handling_retryable_errors_with_hints" time="0.002" /><testcase classname="tests.vector.test_error_mapping_retryable" name="test_error_handling_index_not_ready_retryable" time="0.003" /><testcase classname="tests.vector.test_error_mapping_retryable" name="test_error_handling_dimension_mismatch_non_retryable_flag" time="0.002" /><testcase classname="tests.vector.test_error_mapping_retryable" name="test_error_handling_bad_request_on_invalid_top_k" time="0.002" /><testcase classname="tests.vector.test_error_mapping_retryable" name="test_error_handling_error_has_siem_safe_details" time="0.002" /><testcase classname="tests.vector.test_filtering_semantics" name="test_filtering_query_filter_equality" time="0.060" /><testcase classname="tests.vector.test_filtering_semantics" name="test_filtering_delete_filter_equality" time="0.029"><failure message="NameError: name 'DeleteResult' is not defined">tests/vector/test_filtering_semantics.py:53: in test_filtering_delete_filter_equality
    assert isinstance(result, DeleteResult)
E   NameError: name 'DeleteResult' is not defined</failure></testcase><testcase classname="tests.vector.test_filtering_semantics" name="test_filtering_filter_requires_mapping_type" time="0.003" /><testcase classname="tests.vector.test_filtering_semantics" name="test_filtering_filter_respects_capabilities_support" time="0.013" /><testcase classname="tests.vector.test_filtering_semantics" name="test_filtering_filter_empty_results_ok" time="0.033" /><testcase classname="tests.vector.test_health_report" name="test_health_health_returns_required_fields" time="0.003" /><testcase classname="tests.vector.test_health_report" name="test_health_health_includes_namespaces" time="0.002" /><testcase classname="tests.vector.test_health_report" name="test_health_status_ok_bool" time="0.002" /><testcase classname="tests.vector.test_health_report" name="test_health_shape_consistent_on_error" time="0.002" /><testcase classname="tests.vector.test_health_report" name="test_health_identity_fields_stable" time="0.004" /><testcase classname="tests.vector.test_namespace_operations" name="test_namespace_create_namespace_returns_success" time="0.013" /><testcase classname="tests.vector.test_namespace_operations" name="test_namespace_namespace_requires_positive_dimensions" time="0.002" /><testcase classname="tests.vector.test_namespace_operations" name="test_namespace_namespace_requires_valid_distance_metric" time="0.002"><failure message="corpus_sdk.vector.vector_base.BadRequest: distance_metric must be one of: cosine, euclidean, dotproduct">tests/vector/test_namespace_operations.py:49: in test_namespace_namespace_requires_valid_distance_metric
    await adapter.create_namespace(spec)
corpus_sdk/vector/vector_base.py:2233: in create_namespace
    raise BadRequest("distance_metric must be one of: cosine, euclidean, dotproduct")
E   corpus_sdk.vector.vector_base.BadRequest: distance_metric must be one of: cosine, euclidean, dotproduct</failure></testcase><testcase classname="tests.vector.test_namespace_operations" name="test_namespace_health_exposes_namespaces_dict" time="0.002" /><testcase classname="tests.vector.test_namespace_operations" name="test_namespace_delete_namespace_idempotent" time="0.015" /><testcase classname="tests.vector.test_namespace_operations" name="test_namespace_namespace_isolation" time="0.012"><failure message="corpus_sdk.vector.vector_base.BadRequest: unknown namespace 'namespace-a'">tests/vector/test_namespace_operations.py:84: in test_namespace_namespace_isolation
    await adapter.upsert(UpsertSpec(vectors=[vector_a], namespace="namespace-a"))
corpus_sdk/vector/vector_base.py:2086: in upsert
    result = await self._with_gates_unary(
corpus_sdk/vector/vector_base.py:1532: in _with_gates_unary
    result = await self._apply_deadline(call(), ctx)
corpus_sdk/vector/vector_base.py:1356: in _apply_deadline
    return await self._deadline.wrap(awaitable, ctx)
corpus_sdk/vector/vector_base.py:612: in wrap
    return await awaitable
corpus_sdk/vector/vector_base.py:2064: in _call
    result = await self._do_upsert(
tests/mock/mock_vector_adapter.py:351: in _do_upsert
    raise BadRequest(f"unknown namespace '{ns}'")
E   corpus_sdk.vector.vector_base.BadRequest: unknown namespace 'namespace-a'</failure></testcase><testcase classname="tests.vector.test_query_basic" name="test_query_query_returns_vector_matches" time="0.032" /><testcase classname="tests.vector.test_query_basic" name="test_query_validates_dimensions" time="0.022" /><testcase classname="tests.vector.test_query_basic" name="test_query_top_k_must_be_positive" time="0.002" /><testcase classname="tests.vector.test_query_basic" name="test_query_respects_max_top_k" time="0.022" /><testcase classname="tests.vector.test_query_basic" name="test_query_results_sorted_by_score_desc" time="0.033" /><testcase classname="tests.vector.test_query_basic" name="test_query_include_flags_respected" time="0.033" /><testcase classname="tests.vector.test_upsert_basic" name="test_upsert_upsert_returns_result_with_counts" time="0.028" /><testcase classname="tests.vector.test_upsert_basic" name="test_upsert_validates_dimensions" time="0.024" /><testcase classname="tests.vector.test_upsert_basic" name="test_upsert_validates_namespace_exists_or_behavior_documented" time="0.013"><failure message="NameError: name 'NotSupported' is not defined">tests/vector/test_upsert_basic.py:66: in test_upsert_validates_namespace_exists_or_behavior_documented
    result = await adapter.upsert(spec)
corpus_sdk/vector/vector_base.py:2086: in upsert
    result = await self._with_gates_unary(
corpus_sdk/vector/vector_base.py:1532: in _with_gates_unary
    result = await self._apply_deadline(call(), ctx)
corpus_sdk/vector/vector_base.py:1356: in _apply_deadline
    return await self._deadline.wrap(awaitable, ctx)
corpus_sdk/vector/vector_base.py:612: in wrap
    return await awaitable
corpus_sdk/vector/vector_base.py:2064: in _call
    result = await self._do_upsert(
tests/mock/mock_vector_adapter.py:351: in _do_upsert
    raise BadRequest(f"unknown namespace '{ns}'")
E   corpus_sdk.vector.vector_base.BadRequest: unknown namespace '__completely_unknown_namespace_123__'

During handling of the above exception, another exception occurred:
tests/vector/test_upsert_basic.py:67: in test_upsert_validates_namespace_exists_or_behavior_documented
    except (BadRequest, NotSupported):
E   NameError: name 'NotSupported' is not defined</failure></testcase><testcase classname="tests.vector.test_upsert_basic" name="test_upsert_requires_non_empty_vectors" time="0.001" /><testcase classname="tests.vector.test_upsert_basic" name="test_upsert_partial_failure_reporting" time="0.022" /><testcase classname="tests.vector.test_wire_handler" name="test_wire_contract_capabilities_success_envelope" time="0.002"><failure message="assert False is True">tests/vector/test_wire_handler.py:150: in test_wire_contract_capabilities_success_envelope
    assert result["ok"] is True
E   assert False is True</failure></testcase><testcase classname="tests.vector.test_wire_handler" name="test_wire_contract_query_roundtrip_and_context_plumbing" time="0.001"><failure message="assert False is True">tests/vector/test_wire_handler.py:188: in test_wire_contract_query_roundtrip_and_context_plumbing
    assert result["ok"] is True
E   assert False is True</failure></testcase><testcase classname="tests.vector.test_wire_handler" name="test_wire_contract_upsert_delete_namespace_health_envelopes" time="0.001"><failure message="assert False is True">tests/vector/test_wire_handler.py:216: in test_wire_contract_upsert_delete_namespace_health_envelopes
    assert upsert_result["ok"] is True
E   assert False is True</failure></testcase><testcase classname="tests.vector.test_wire_handler" name="test_wire_contract_delete_namespace_operation" time="0.001"><failure message="assert False is True">tests/vector/test_wire_handler.py:269: in test_wire_contract_delete_namespace_operation
    assert result["ok"] is True
E   assert False is True</failure></testcase><testcase classname="tests.vector.test_wire_handler" name="test_wire_contract_unknown_op_maps_to_not_supported" time="0.001" /><testcase classname="tests.vector.test_wire_handler" name="test_wire_contract_maps_vector_adapter_error_to_normalized_envelope" time="0.001" /><testcase classname="tests.vector.test_wire_handler" name="test_wire_contract_maps_unexpected_exception_to_unavailable" time="0.001" /><testcase classname="tests.vector.test_wire_handler" name="test_wire_contract_missing_or_invalid_op_maps_to_bad_request" time="0.001" /><testcase classname="tests.vector.test_wire_handler" name="test_wire_contract_maps_not_supported_adapter_error" time="0.001" /><testcase classname="tests.vector.test_wire_handler" name="test_wire_contract_error_envelope_includes_message_and_type" time="0.001" /><testcase classname="tests.vector.test_wire_handler" name="test_wire_contract_query_missing_required_fields_maps_to_bad_request" time="0.002"><failure message="AssertionError: assert 'UNAVAILABLE' == 'BAD_REQUEST'&#10;  &#10;  #x1B[0m#x1B[91m- BAD_REQUEST#x1B[39;49;00m#x1B[90m#x1B[39;49;00m&#10;  #x1B[92m+ UNAVAILABLE#x1B[39;49;00m#x1B[90m#x1B[39;49;00m">tests/vector/test_wire_handler.py:416: in test_wire_contract_query_missing_required_fields_maps_to_bad_request
    assert result["code"] == "BAD_REQUEST"
E   AssertionError: assert 'UNAVAILABLE' == 'BAD_REQUEST'
E     
E     #x1B[0m#x1B[91m- BAD_REQUEST#x1B[39;49;00m#x1B[90m#x1B[39;49;00m
E     #x1B[92m+ UNAVAILABLE#x1B[39;49;00m#x1B[90m#x1B[39;49;00m</failure></testcase></testsuite></testsuites>